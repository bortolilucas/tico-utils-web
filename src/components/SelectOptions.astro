---
import ErrorMessage from "@/components/ErrorMessage.astro";
import type { SelectOption } from "@/models/selectOptions";

type Props = {
  label: string;
  name: string;
  options: SelectOption[];
  defaultValue?: string;
  error?: string;
};

const { label, name, options, defaultValue, error } = Astro.props;
---

<div>
  <label class="block text-sm font-medium text-gray-700 mb-2">{label}</label>

  <div class="flex space-x-4">
    {
      options.map((option) => (
        <label class="flex items-center px-4 py-2 border border-gray-300 rounded-lg cursor-pointer has-[:checked]:bg-indigo-50 has-[:checked]:border-indigo-500">
          <input
            class="hidden"
            name={name}
            type="radio"
            value={option.value}
            checked={defaultValue === option.value}
          />
          <span class="text-sm font-medium text-gray-700">{option.label}</span>
        </label>
      ))
    }
  </div>

  {error && <ErrorMessage>{error}</ErrorMessage>}
</div>
